{% extends "Base.html" %}


{% block content %} 
    <div class="center-item">
        <div style="width:80%;display:flex;">

            <div class="dropdown" id="output-dropdown">
                <button id="output-button" class="table-button" style="width:100%"> Table↓</button> 
                <div id="output-content" class="dropdown-content">
                    <button onclick="showTable()" class="dropdown-button"> Table </button>
                    <button onclick="showPlot()" class="dropdown-button"> Plot </button> 
                </div>
            </div> 

            <div class="dropdown" id="season-dropdown">
                <button id="season-button" class="table-button" style="width:100%;">2023-24↓</button>
                <div id="season-content" class="dropdown-content"> 
                    <button onclick="seasonSelect('2023_24')" class="dropdown-button"> 2023-24 </button>
                    <button onclick="seasonSelect('2022_23')" class="dropdown-button"> 2022-23 </button>
                    <button onclick="seasonSelect('2021_22')" class="dropdown-button"> 2021-22 </button>
                    <button onclick="seasonSelect('2020_21')" class="dropdown-button"> 2020-21 </button>
                    <button onclick="seasonSelect('2019_20')" class="dropdown-button"> 2019-20 </button>
                    <button onclick="seasonSelect('2018_19')" class="dropdown-button"> 2018-19 </button>
                    <button onclick="seasonSelect('2017_18')" class="dropdown-button"> 2017-18 </button>
                    <button onclick="seasonSelect('2016_17')" class="dropdown-button"> 2016-17 </button>
                    <button onclick="seasonSelect('2015_16')" class="dropdown-button"> 2015-16 </button>
                    <button onclick="seasonSelect('2014_15')" class="dropdown-button"> 2014-15 </button>
                    <button onclick="seasonSelect('2013_14')" class="dropdown-button"> 2013-14 </button>
                    <button onclick="seasonSelect('2012_13')" class="dropdown-button"> 2012-13 </button>
                    <button onclick="seasonSelect('2011_12')" class="dropdown-button"> 2011-12 </button>
                    <button onclick="seasonSelect('2010_11')" class="dropdown-button"> 2010-11 </button>
                    <button onclick="seasonSelect('2009_10')" class="dropdown-button"> 2009-10 </button>
                    <button onclick="seasonSelect('2008_09')" class="dropdown-button"> 2008-09 </button>
                    <button onclick="seasonSelect('2007_08')" class="dropdown-button"> 2007-08 </button>
                    <button onclick="seasonSelect('2006_07')" class="dropdown-button"> 2006-07 </button>
                    <button onclick="seasonSelect('2005_06')" class="dropdown-button"> 2005-06 </button>
                    <button onclick="seasonSelect('2004_05')" class="dropdown-button"> 2004-05 </button>
                    <button onclick="seasonSelect('2003_04')" class="dropdown-button"> 2003-04 </button>
                    <button onclick="seasonSelect('2002_03')" class="dropdown-button"> 2002-03 </button>
                    <button onclick="seasonSelect('2001_02')" class="dropdown-button"> 2001-02 </button>
                    <button onclick="seasonSelect('2000_01')" class="dropdown-button"> 2000-01 </button>
                    <button onclick="seasonSelect('1999_00')" class="dropdown-button"> 1999-00 </button>
                    <button onclick="seasonSelect('1998_99')" class="dropdown-button"> 1998-99 </button>
                    <button onclick="seasonSelect('1997_98')" class="dropdown-button"> 1997-98 </button>
                    <button onclick="seasonSelect('1996_97')" class="dropdown-button"> 1996-97 </button>
                    <button onclick="seasonSelect('1995_96')" class="dropdown-button"> 1995-96 </button>
                    <button onclick="seasonSelect('1994_95')" class="dropdown-button"> 1994-95 </button>
                    <button onclick="seasonSelect('1993_94')" class="dropdown-button"> 1993-94 </button>
                    <button onclick="seasonSelect('1992_93')" class="dropdown-button"> 1992-93 </button>
                    <button onclick="seasonSelect('1991_92')" class="dropdown-button"> 1991-92 </button>
                    <button onclick="seasonSelect('1990_91')" class="dropdown-button"> 1990-91 </button>
                    <button onclick="seasonSelect('1989_90')" class="dropdown-button"> 1989-90 </button>
                    <button onclick="seasonSelect('1988_89')" class="dropdown-button"> 1988-89 </button>
                    <button onclick="seasonSelect('1987_88')" class="dropdown-button"> 1987-88 </button>
                    <button onclick="seasonSelect('1986_87')" class="dropdown-button"> 1986-87 </button>
                    <button onclick="seasonSelect('1985_86')" class="dropdown-button"> 1985-86 </button>
                    <button onclick="seasonSelect('1984_85')" class="dropdown-button"> 1984-85 </button>
                    <button onclick="seasonSelect('1983_84')" class="dropdown-button"> 1983-84 </button>
                    <button onclick="seasonSelect('1982_83')" class="dropdown-button"> 1982-83 </button>
                    <button onclick="seasonSelect('1981_82')" class="dropdown-button"> 1981-82 </button>
                    <button onclick="seasonSelect('1980_81')" class="dropdown-button"> 1980-81 </button>
                    <button onclick="seasonSelect('1979_80')" class="dropdown-button"> 1979-80 </button>
                    <button onclick="seasonSelect('1978_79')" class="dropdown-button"> 1978-79 </button>
                    <button onclick="seasonSelect('1977_78')" class="dropdown-button"> 1977-78 </button>
                    <button onclick="seasonSelect('1976_77')" class="dropdown-button"> 1976-77 </button>
                    <button onclick="seasonSelect('1975_76')" class="dropdown-button"> 1975-76 </button>
                    <button onclick="seasonSelect('1974_75')" class="dropdown-button"> 1974-75 </button>
                    <button onclick="seasonSelect('1973_74')" class="dropdown-button"> 1973-74 </button>
                    
                </div>  
            </div>  

            <div class="dropdown" id="type-dropdown">
                <button id="type-button" class="table-button" style="width:100%;">Averages↓</button>
                <div id="type-content" class="dropdown-content"> 
                    <button onclick="loadTable('Averages_')" class="dropdown-button"> Averages </button>
                    <button onclick="loadTable('Totals_')" class="dropdown-button"> Totals </button> 
                    <button onclick="loadTable('Advanced_')" class="dropdown-button"> Advanced </button> 
                </div>  
            </div>  
        </div> 
    </div> 
    
    <div class = "center-item"> 
        <iframe id = "contentFrame" src="{% url 'load_table' 'Averages_2023_24' %}" class="table-container">
        </iframe>   
    </div> 

    <script>
        let season="2023_24";
        let stat_type="Averages_"; 
        function loadTable(stat){ 
            stat_type = stat; 
            document.getElementById('contentFrame').src = `/load_table/${stat_type.concat(season)}/`; 
            button = document.getElementById('type-button'); 
            button.innerHTML = stat_type.replace("_", "").concat("↓"); 
            document.getElementById("output-button").innerHTML="Table↓"; 
        } 
        function showDropdown(dropdown_name){
            document.getElementById(dropdown_name).classList.toggle("show"); 
        }
        function seasonSelect(season_selected){
            season = season_selected; 
            loadTable(stat_type); 
            button = document.getElementById('season-button');  
            button.innerHTML = season.replace("_", "-").concat("↓"); 
        }
        function showPlot(){
            document.getElementById('contentFrame').src = "/django_plotly_dash/app/chart/"; 
            document.getElementById("output-button").innerHTML="Plot↓"; 
            document.getElementById("season-dropdown").style.display="none"; 
            document.getElementById("type-dropdown").style.display="none";
            document.getElementById("output-dropdown").style.width="100%";
            document.getElementById("output-content").style.width = "75%";
        }
        function showTable(){
            document.getElementById("season-dropdown").style.display="block"; 
            document.getElementById("type-dropdown").style.display="block";
            document.getElementById("output-dropdown").style.width="33%"; 
            document.getElementById("output-content").style.width = "25%";
            loadTable(stat_type); 
        }

        // document.getElementById("type-button").onclick = function() {showDropdown("type-content")}; 
        // document.getElementById("season-button").onclick = function() {showDropdown("season-content")}; 
        // document.getElementById("output-button").onclick = function() {showDropdown("output-content")};  

    </script> 
{% endblock %}

